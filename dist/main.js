(()=>{"use strict";class e{constructor(e){this.title=e}}let t=[],n=new e("New Project");class l{constructor(e,t,n,l){this.title=e,this.dueDate=t,this.projectTitle=n,this.priority=l}}const o=[];let c="New Project";const s=()=>{let e=document.querySelector(".taskList"),t=0;(function(){let e=o.filter((e=>e.projectTitle.includes(c)));return console.log(e),e})().forEach((n=>{let l=document.createElement("div");l.dataset.index=t,console.log(t),t++,l.classList.add("task"),e.append(l);let o=document.createElement("span");o.classList.add("material-symbols-outlined"),o.textContent="radio_button_unchecked";let c=document.createElement("p");c.classList.add("taskTitle"),c.textContent=n.title;let s=document.createElement("p");s.classList.add("taskDate"),s.textContent=n.dueDate;let a=document.createElement("span");a.classList.add("material-symbols-outlined","deleteTaskBtn"),a.textContent="delete";let r=document.createElement("span");r.classList.add("material-symbols-outlined"),r.textContent="keyboard_double_arrow_down","high"==n.priority&&(l.style.backgroundColor="red"),l.append(o,c,s,a,r)}))},a=()=>{document.querySelector(".taskList").innerHTML=""},r=()=>{let e=document.querySelector(".projectList"),n=0;t.forEach((t=>{let l=document.createElement("div");l.classList.add("project"),e.append(l),l.dataset.index=n,console.log(n),n++;let o=document.createElement("p");o.classList.add("taskTitle"),o.textContent=t.title;let c=document.createElement("span");c.classList.add("material-symbols-outlined","deleteProjectBtn"),c.textContent="delete",l.append(o,c)}))};document.addEventListener("click",(function(e){if(e.target.classList.contains("project")){let t=e.target.querySelector(".taskTitle").textContent;c=t,a(),s()}})),document.addEventListener("click",(function(e){let t=document.querySelector(".task");e.target.classList.contains("deleteTaskBtn")&&(e.stopPropagation(),o.splice(t.dataset.index,1),e.target.closest(".task").remove(),a(),console.log(o))})),document.addEventListener("click",(function(e){let n=document.querySelector(".project");e.target.classList.contains("deleteProjectBtn")&&(e.stopPropagation(),t.splice(n.dataset.index,1),e.target.closest(".project").remove(),a(),console.log(t))})),document.addEventListener("click",(e=>{document.querySelector(".checkTask"),e.target.classList.contains(".checkTask")&&e.stopPropagation()})),t.push(n),console.log(t),s(),r(),(()=>{let e=document.querySelector(".newTaskBtn"),n=document.querySelector(".newTaskContainer");e.addEventListener("click",(function(){0===t.length?alert("Please create a project first!"):(n.style.display="flex",e.style.display="none")}));let r=document.querySelector(".confirmTaskBtn"),i=document.querySelector(".cancelTaskBtn");r.addEventListener("click",(function(){let t=document.querySelector("#taskName").value,r=document.querySelector("#taskDate").value,i=document.querySelector("#prioritySelector").value,d=new l(t,r,c,i);console.log(o),o.push(d),a(),s(),document.querySelectorAll("#taskName, #taskDate, #prioritySelector").forEach((e=>{e.value=""})),n.style.display="none",e.style.display="inline"})),i.addEventListener("click",(function(){n.style.display="none",e.style.display="inline"}))})(),(()=>{let n=document.querySelector(".newProjectBtn"),l=document.querySelector(".newProjectContainer");n.addEventListener("click",(function(){l.style.display="flex",n.style.display="none"}));let o=document.querySelector(".confirmProjectBtn"),s=document.querySelector(".cancelProjectBtn");o.addEventListener("click",(function(){let o=document.querySelector("#projectName").value,s=new e(o);t.push(s),c=o,document.querySelector(".projectList").innerHTML="",r(),document.querySelectorAll("#projectName").forEach((e=>{e.value=""})),l.style.display="none",n.style.display="inline"})),s.addEventListener("click",(function(){l.style.display="none",n.style.display="inline"}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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c3QvLi9zcmMvdGFzay5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvRE9NLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgUHJvamVjdCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih0aXRsZSkge1xyXG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcclxuICAgIH1cclxufVxyXG5cclxubGV0IHByb2plY3RMaXN0ID0gW107XHJcbmxldCBkZWZhdWx0UHJvamVjdCA9IG5ldyBQcm9qZWN0KCdOZXcgUHJvamVjdCcpO1xyXG5cclxuZXhwb3J0IHsgcHJvamVjdExpc3QsIGRlZmF1bHRQcm9qZWN0IH0iLCJpbXBvcnQgeyBQcm9qZWN0IH0gZnJvbSBcIi4vcHJvamVjdFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRhc2sge1xyXG4gICAgY29uc3RydWN0b3IodGl0bGUsIGR1ZURhdGUsIHByb2plY3RUaXRsZSwgcHJpb3JpdHkpIHtcclxuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XHJcbiAgICAgICAgdGhpcy5kdWVEYXRlID0gZHVlRGF0ZTtcclxuICAgICAgICB0aGlzLnByb2plY3RUaXRsZSA9IHByb2plY3RUaXRsZTtcclxuICAgICAgICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IHRhc2tMaXN0ID0gW107XHJcbmxldCBjdXJyZW50UHJvamVjdCA9ICdOZXcgUHJvamVjdCc7XHJcblxyXG5mdW5jdGlvbiBmaWx0ZXJCeVByb2plY3QoKSB7XHJcbiAgICBsZXQgZmlsdGVyUHJvamVjdCA9IHRhc2tMaXN0LmZpbHRlcih2YWwgPT4gdmFsLnByb2plY3RUaXRsZS5pbmNsdWRlcyhjdXJyZW50UHJvamVjdCkpO1xyXG4gICAgY29uc29sZS5sb2coZmlsdGVyUHJvamVjdCk7XHJcbiAgICByZXR1cm4gZmlsdGVyUHJvamVjdDtcclxufVxyXG5cclxuZXhwb3J0IHsgY3VycmVudFByb2plY3QsIGZpbHRlckJ5UHJvamVjdCwgdGFza0xpc3QgfSIsImltcG9ydCB7IFByb2plY3QsIHByb2plY3RMaXN0IH0gZnJvbSBcIi4vcHJvamVjdFwiO1xyXG5pbXBvcnQgeyB0YXNrTGlzdCwgZmlsdGVyQnlQcm9qZWN0LCBUYXNrLCBjdXJyZW50UHJvamVjdCB9IGZyb20gXCIuL3Rhc2tcIjtcclxuXHJcblxyXG5jb25zdCBnZW5lcmF0ZVRhc2sgPSAoKSA9PiB7XHJcblxyXG4gICAgbGV0IG5ld1Rhc2tCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmV3VGFza0J0bicpO1xyXG4gICAgbGV0IG5ld1Rhc2tDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmV3VGFza0NvbnRhaW5lcicpO1xyXG5cclxuXHJcbiAgICBuZXdUYXNrQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgIGlmIChwcm9qZWN0TGlzdC5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgYWxlcnQoJ1BsZWFzZSBjcmVhdGUgYSBwcm9qZWN0IGZpcnN0IScpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbmV3VGFza0NvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xyXG4gICAgICAgICAgICBuZXdUYXNrQnRuLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7IFxyXG4gICAgXHJcblxyXG4gICAgbGV0IGNvbmZpcm1UYXNrQnRuID0gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb25maXJtVGFza0J0bicpO1xyXG4gICAgbGV0IGNhbmNlbFRhc2tCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FuY2VsVGFza0J0bicpO1xyXG5cclxuICAgIGNvbmZpcm1UYXNrQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgbGV0IHRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Rhc2tOYW1lJykudmFsdWU7XHJcbiAgICAgICAgbGV0IGR1ZURhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdGFza0RhdGUnKS52YWx1ZTtcclxuICAgICAgICBsZXQgcHJpb3JpdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJpb3JpdHlTZWxlY3RvcicpLnZhbHVlO1xyXG4gICAgICAgIGxldCBwcm9qZWN0VGl0bGUgPSBjdXJyZW50UHJvamVjdDsgICAgXHJcblxyXG4gICAgICAgIGxldCBhZGRUYXNrcyA9IG5ldyBUYXNrKHRpdGxlLCBkdWVEYXRlLCBwcm9qZWN0VGl0bGUsIHByaW9yaXR5KTtcclxuICAgICAgICBjb25zb2xlLmxvZyh0YXNrTGlzdCk7XHJcbiAgICAgICAgdGFza0xpc3QucHVzaChhZGRUYXNrcyk7XHJcbiAgICAgICAgcmVzZXRUYXNrTGlzdCgpO1xyXG4gICAgICAgIGRpc3BsYXlUYXNrcyh0YXNrTGlzdCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgaW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI3Rhc2tOYW1lLCAjdGFza0RhdGUsICNwcmlvcml0eVNlbGVjdG9yJyk7XHJcbiAgICAgICAgaW5wdXRzLmZvckVhY2goaW5wdXQgPT4ge1xyXG4gICAgICAgICAgICBpbnB1dC52YWx1ZSA9ICcnXHJcbiAgICAgICAgfSlcclxuICBcclxuICAgICAgICBuZXdUYXNrQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7IFxyXG4gICAgICAgIG5ld1Rhc2tCdG4uc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUnO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY2FuY2VsVGFza0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIG5ld1Rhc2tDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICBuZXdUYXNrQnRuLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lJztcclxuICAgIH0pO1xyXG4gICAgXHJcblxyXG59XHJcblxyXG5jb25zdCBkaXNwbGF5VGFza3MgPSAoKSA9PiB7XHJcbiAgICBsZXQgdGFza0xpc3RDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFza0xpc3QnKTtcclxuICAgIGxldCBpID0gMDtcclxuXHJcbiAgICBmaWx0ZXJCeVByb2plY3QoKS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgIGxldCB0YXNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgdGFzay5kYXRhc2V0LmluZGV4ID0gaTtcclxuICAgICAgICBjb25zb2xlLmxvZyhpKTtcclxuICAgICAgICBpKytcclxuICAgICAgICB0YXNrLmNsYXNzTGlzdC5hZGQoJ3Rhc2snKTtcclxuICAgICAgICB0YXNrTGlzdENvbnRhaW5lci5hcHBlbmQodGFzayk7XHJcblxyXG4gICAgICAgIGxldCB0YXNrQ2hlY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICAgICAgdGFza0NoZWNrLmNsYXNzTGlzdC5hZGQoJ21hdGVyaWFsLXN5bWJvbHMtb3V0bGluZWQnKTtcclxuICAgICAgICB0YXNrQ2hlY2sudGV4dENvbnRlbnQgPSAncmFkaW9fYnV0dG9uX3VuY2hlY2tlZCc7XHJcblxyXG4gICAgICAgIGxldCB0YXNrVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XHJcbiAgICAgICAgdGFza1RpdGxlLmNsYXNzTGlzdC5hZGQoJ3Rhc2tUaXRsZScpO1xyXG4gICAgICAgIHRhc2tUaXRsZS50ZXh0Q29udGVudCA9IGVsZW1lbnQudGl0bGU7XHJcblxyXG4gICAgICAgIGxldCB0YXNrRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcclxuICAgICAgICB0YXNrRGF0ZS5jbGFzc0xpc3QuYWRkKCd0YXNrRGF0ZScpO1xyXG4gICAgICAgIHRhc2tEYXRlLnRleHRDb250ZW50ID0gZWxlbWVudC5kdWVEYXRlO1xyXG5cclxuICAgICAgICBsZXQgdGFza0RlbGV0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgICAgICB0YXNrRGVsZXRlLmNsYXNzTGlzdC5hZGQoJ21hdGVyaWFsLXN5bWJvbHMtb3V0bGluZWQnLCAnZGVsZXRlVGFza0J0bicpO1xyXG4gICAgICAgIHRhc2tEZWxldGUudGV4dENvbnRlbnQgPSAnZGVsZXRlJztcclxuXHJcbiAgICAgICAgbGV0IHRhc2tBcnJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgICAgICB0YXNrQXJyb3cuY2xhc3NMaXN0LmFkZCgnbWF0ZXJpYWwtc3ltYm9scy1vdXRsaW5lZCcpO1xyXG4gICAgICAgIHRhc2tBcnJvdy50ZXh0Q29udGVudCA9ICdrZXlib2FyZF9kb3VibGVfYXJyb3dfZG93bic7XHJcblxyXG4gICAgICAgIGlmKGVsZW1lbnQucHJpb3JpdHkgPT0gJ2hpZ2gnKSB7XHJcbiAgICAgICAgICAgIHRhc2suc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JlZCc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0YXNrLmFwcGVuZCh0YXNrQ2hlY2ssIHRhc2tUaXRsZSwgdGFza0RhdGUsIHRhc2tEZWxldGUsIHRhc2tBcnJvdyk7XHJcbiAgICB9KTsgXHJcbn1cclxuXHJcbmNvbnN0IHJlc2V0VGFza0xpc3QgPSAoKSA9PiB7XHJcblxyXG4gICAgbGV0IHRhc2tMaXN0Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhc2tMaXN0Jyk7XHJcbiAgICB0YXNrTGlzdENvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcclxufVxyXG5cclxuY29uc3QgZ2VuZXJhdGVQcm9qZWN0ID0gKCkgPT4ge1xyXG5cclxuICAgIGxldCBuZXdQcm9qZWN0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5ld1Byb2plY3RCdG4nKTtcclxuICAgIGxldCBuZXdQcm9qZWN0Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5ld1Byb2plY3RDb250YWluZXInKTtcclxuICAgIFxyXG4gICAgbmV3UHJvamVjdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIG5ld1Byb2plY3RDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcclxuICAgICAgICBuZXdQcm9qZWN0QnRuLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICB9KTtcclxuXHJcbiAgICBsZXQgY29uZmlybVByb2plY3RCdG4gPSAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbmZpcm1Qcm9qZWN0QnRuJyk7XHJcbiAgICBsZXQgY2FuY2VsUHJvamVjdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYW5jZWxQcm9qZWN0QnRuJyk7XHJcblxyXG4gICAgY29uZmlybVByb2plY3RCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBsZXQgdGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvamVjdE5hbWUnKS52YWx1ZTtcclxuXHJcbiAgICAgICAgbGV0IGFkZFByb2plY3RzID0gbmV3IFByb2plY3QodGl0bGUpO1xyXG4gICAgICAgIHByb2plY3RMaXN0LnB1c2goYWRkUHJvamVjdHMpO1xyXG4gICAgICAgIGN1cnJlbnRQcm9qZWN0ID0gdGl0bGU7XHJcblxyXG4gICAgICAgIHJlc2V0UHJvamVjdExpc3QoKTtcclxuICAgICAgICBkaXNwbGF5UHJvamVjdHMoKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBpbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjcHJvamVjdE5hbWUnKTtcclxuICAgICAgICBpbnB1dHMuZm9yRWFjaChpbnB1dCA9PiB7XHJcbiAgICAgICAgICAgIGlucHV0LnZhbHVlID0gJyc7XHJcbiAgICAgICAgfSlcclxuICBcclxuICAgICAgICBuZXdQcm9qZWN0Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7IFxyXG4gICAgICAgIG5ld1Byb2plY3RCdG4uc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUnO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY2FuY2VsUHJvamVjdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIG5ld1Byb2plY3RDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICBuZXdQcm9qZWN0QnRuLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lJztcclxuICAgIH0pO1xyXG59XHJcblxyXG5jb25zdCBkaXNwbGF5UHJvamVjdHMgPSAoKSA9PiB7XHJcbiAgICBsZXQgcHJvamVjdExpc3RDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdExpc3QnKTtcclxuICAgIGxldCBpID0gMDtcclxuXHJcbiAgICBwcm9qZWN0TGlzdC5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG5cclxuICAgICAgICBsZXQgcHJvamVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHByb2plY3QuY2xhc3NMaXN0LmFkZCgncHJvamVjdCcpO1xyXG4gICAgICAgIHByb2plY3RMaXN0Q29udGFpbmVyLmFwcGVuZChwcm9qZWN0KTtcclxuICAgICAgICBwcm9qZWN0LmRhdGFzZXQuaW5kZXggPSBpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGkpO1xyXG4gICAgICAgIGkrK1xyXG5cclxuICAgICAgICBsZXQgcHJvamVjdFRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xyXG4gICAgICAgIHByb2plY3RUaXRsZS5jbGFzc0xpc3QuYWRkKCd0YXNrVGl0bGUnKTtcclxuICAgICAgICBwcm9qZWN0VGl0bGUudGV4dENvbnRlbnQgPSBlbGVtZW50LnRpdGxlO1xyXG5cclxuICAgICAgICBsZXQgcHJvamVjdERlbGV0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgICAgICBwcm9qZWN0RGVsZXRlLmNsYXNzTGlzdC5hZGQoJ21hdGVyaWFsLXN5bWJvbHMtb3V0bGluZWQnLCAnZGVsZXRlUHJvamVjdEJ0bicpO1xyXG4gICAgICAgIHByb2plY3REZWxldGUudGV4dENvbnRlbnQgPSAnZGVsZXRlJztcclxuXHJcbiAgICAgICAgcHJvamVjdC5hcHBlbmQocHJvamVjdFRpdGxlLCBwcm9qZWN0RGVsZXRlKTsgIFxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmNvbnN0IHJlc2V0UHJvamVjdExpc3QgPSAoKSA9PiB7XHJcblxyXG4gICAgbGV0IHByb2plY3RMaXN0Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RMaXN0Jyk7XHJcbiAgICBwcm9qZWN0TGlzdENvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcclxufVxyXG5cclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwcm9qZWN0JykpIHtcclxuXHJcbiAgICAgICAgbGV0IHByb2plY3ROYW1lID0gZXZlbnQudGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJy50YXNrVGl0bGUnKS50ZXh0Q29udGVudDtcclxuXHJcbiAgICAgICAgY3VycmVudFByb2plY3QgPSBwcm9qZWN0TmFtZTtcclxuICAgICAgICByZXNldFRhc2tMaXN0KCk7XHJcbiAgICAgICAgZGlzcGxheVRhc2tzKHRhc2tMaXN0KTtcclxuICAgIH1cclxufSlcclxuXHJcbi8vRGVsZXRlIGJ1dHRvbnMgZm9yIHRhc2sgYW5kIHByb2plY3RcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcblxyXG4gICAgbGV0IHRhc2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFzaycpO1xyXG5cclxuICAgIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdkZWxldGVUYXNrQnRuJykpIHtcclxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB0YXNrTGlzdC5zcGxpY2UodGFzay5kYXRhc2V0LmluZGV4LCAxKTtcclxuICAgICAgICBldmVudC50YXJnZXQuY2xvc2VzdCgnLnRhc2snKS5yZW1vdmUoKTtcclxuICAgICAgICByZXNldFRhc2tMaXN0KCk7XHJcbiAgICAgICAgY29uc29sZS5sb2codGFza0xpc3QpO1xyXG4gICAgfVxyXG59KVxyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuXHJcbiAgICBsZXQgcHJvamVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0Jyk7XHJcblxyXG4gICAgaWYgKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2RlbGV0ZVByb2plY3RCdG4nKSkge1xyXG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIHByb2plY3RMaXN0LnNwbGljZShwcm9qZWN0LmRhdGFzZXQuaW5kZXgsIDEpO1xyXG4gICAgICAgIGV2ZW50LnRhcmdldC5jbG9zZXN0KCcucHJvamVjdCcpLnJlbW92ZSgpO1xyXG4gICAgICAgIHJlc2V0VGFza0xpc3QoKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhwcm9qZWN0TGlzdCk7XHJcbiAgICB9XHJcbn0pXHJcblxyXG4vLyBFdmVudCBsaXN0ZW5lciBmb3IgY2hlY2tpbmcgb2ZmIHRhc2tzXHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xyXG5cclxuICAgIGxldCBjaGVja1Rhc2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hlY2tUYXNrJyk7XHJcblxyXG4gICAgaWYgKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJy5jaGVja1Rhc2snKSkge1xyXG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgfVxyXG59KVxyXG5leHBvcnQgeyBnZW5lcmF0ZVRhc2ssIGdlbmVyYXRlUHJvamVjdCwgZGlzcGxheVRhc2tzLCBkaXNwbGF5UHJvamVjdHMgfSIsImltcG9ydCB7IFRhc2sgfSBmcm9tICcuL3Rhc2snXHJcbmltcG9ydCB7IGRpc3BsYXlUYXNrcywgZGlzcGxheVByb2plY3RzLCBnZW5lcmF0ZVByb2plY3QsIGdlbmVyYXRlVGFzayB9IGZyb20gJy4vRE9NJ1xyXG5pbXBvcnQgeyBwcm9qZWN0TGlzdCwgZGVmYXVsdFByb2plY3QgfSBmcm9tICcuL3Byb2plY3QnO1xyXG5cclxucHJvamVjdExpc3QucHVzaChkZWZhdWx0UHJvamVjdCk7XHJcbmNvbnNvbGUubG9nKHByb2plY3RMaXN0KTtcclxuZGlzcGxheVRhc2tzKCk7XHJcbmRpc3BsYXlQcm9qZWN0cygpO1xyXG5nZW5lcmF0ZVRhc2soKTtcclxuZ2VuZXJhdGVQcm9qZWN0KCk7Il0sIm5hbWVzIjpbIlByb2plY3QiLCJjb25zdHJ1Y3RvciIsInRpdGxlIiwidGhpcyIsInByb2plY3RMaXN0IiwiZGVmYXVsdFByb2plY3QiLCJUYXNrIiwiZHVlRGF0ZSIsInByb2plY3RUaXRsZSIsInByaW9yaXR5IiwidGFza0xpc3QiLCJjdXJyZW50UHJvamVjdCIsImRpc3BsYXlUYXNrcyIsInRhc2tMaXN0Q29udGFpbmVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiaSIsImZpbHRlclByb2plY3QiLCJmaWx0ZXIiLCJ2YWwiLCJpbmNsdWRlcyIsImNvbnNvbGUiLCJsb2ciLCJmaWx0ZXJCeVByb2plY3QiLCJmb3JFYWNoIiwiZWxlbWVudCIsInRhc2siLCJjcmVhdGVFbGVtZW50IiwiZGF0YXNldCIsImluZGV4IiwiY2xhc3NMaXN0IiwiYWRkIiwiYXBwZW5kIiwidGFza0NoZWNrIiwidGV4dENvbnRlbnQiLCJ0YXNrVGl0bGUiLCJ0YXNrRGF0ZSIsInRhc2tEZWxldGUiLCJ0YXNrQXJyb3ciLCJzdHlsZSIsImJhY2tncm91bmRDb2xvciIsInJlc2V0VGFza0xpc3QiLCJpbm5lckhUTUwiLCJkaXNwbGF5UHJvamVjdHMiLCJwcm9qZWN0TGlzdENvbnRhaW5lciIsInByb2plY3QiLCJwcm9qZWN0RGVsZXRlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwidGFyZ2V0IiwiY29udGFpbnMiLCJwcm9qZWN0TmFtZSIsInN0b3BQcm9wYWdhdGlvbiIsInNwbGljZSIsImNsb3Nlc3QiLCJyZW1vdmUiLCJwdXNoIiwibmV3VGFza0J0biIsIm5ld1Rhc2tDb250YWluZXIiLCJsZW5ndGgiLCJhbGVydCIsImRpc3BsYXkiLCJjb25maXJtVGFza0J0biIsImNhbmNlbFRhc2tCdG4iLCJ2YWx1ZSIsImFkZFRhc2tzIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0IiwiZ2VuZXJhdGVUYXNrIiwibmV3UHJvamVjdEJ0biIsIm5ld1Byb2plY3RDb250YWluZXIiLCJjb25maXJtUHJvamVjdEJ0biIsImNhbmNlbFByb2plY3RCdG4iLCJhZGRQcm9qZWN0cyIsImdlbmVyYXRlUHJvamVjdCJdLCJzb3VyY2VSb290IjoiIn0=